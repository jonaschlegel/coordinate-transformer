(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3761:(e,t,a)=>{Promise.resolve().then(a.bind(a,6467))},6467:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var l=a(2432),r=a(364),s=a(9759),i=a(2126),n=a(8441);function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,i.$)(t))}let d=r.forwardRef((e,t)=>{let{className:a,type:r,...s}=e;return(0,l.jsx)("input",{type:r,className:o("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...s})});d.displayName="Input";var c=a(4314),m=a(3881),u=a(6042),f=a(9815),p=a(9086),x=a(3491);let h=u.bL;u.YJ;let g=u.WT,w=r.forwardRef((e,t)=>{let{className:a,children:r,...s}=e;return(0,l.jsxs)(u.l9,{ref:t,className:o("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...s,children:[r,(0,l.jsx)(u.In,{asChild:!0,children:(0,l.jsx)(f.A,{className:"h-4 w-4 opacity-50"})})]})});w.displayName=u.l9.displayName;let b=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(u.PP,{ref:t,className:o("flex cursor-default items-center justify-center py-1",a),...r,children:(0,l.jsx)(p.A,{className:"h-4 w-4"})})});b.displayName=u.PP.displayName;let y=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(u.wn,{ref:t,className:o("flex cursor-default items-center justify-center py-1",a),...r,children:(0,l.jsx)(f.A,{className:"h-4 w-4"})})});y.displayName=u.wn.displayName;let N=r.forwardRef((e,t)=>{let{className:a,children:r,position:s="popper",...i}=e;return(0,l.jsx)(u.ZL,{children:(0,l.jsxs)(u.UC,{ref:t,className:o("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:s,...i,children:[(0,l.jsx)(b,{}),(0,l.jsx)(u.LM,{className:o("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,l.jsx)(y,{})]})})});N.displayName=u.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(u.JU,{ref:t,className:o("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=u.JU.displayName;let j=r.forwardRef((e,t)=>{let{className:a,children:r,...s}=e;return(0,l.jsxs)(u.q7,{ref:t,className:o("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...s,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(u.VF,{children:(0,l.jsx)(x.A,{className:"h-4 w-4"})})}),(0,l.jsx)(u.p4,{children:r})]})});j.displayName=u.q7.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(u.wv,{ref:t,className:o("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=u.wv.displayName;let v=(0,s.default)(()=>Promise.all([a.e(412),a.e(550),a.e(776),a.e(478)]).then(a.bind(a,5478)),{loadableGenerated:{webpack:()=>[5478]},ssr:!1,loading:()=>(0,l.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-gray-600",children:"Loading map..."})})});function C(e){let t=e.split("-").map(e=>Number.parseFloat(e.trim()));if(t.some(isNaN))return Number.NaN;let a=0;return t.length>=1&&(a+=t[0]),t.length>=2&&(a+=t[1]/60),t.length>=3&&(a+=t[2]/3600),a}function k(){let[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)(null),[i,n]=(0,r.useTransition)(),[o,u]=(0,r.useState)(null),f=(0,r.useRef)(null),[p,x]=(0,r.useState)(""),[b,y]=(0,r.useState)("");(0,r.useEffect)(()=>{n(async()=>{s(null);try{let e=await fetch("/points.json"),a=await e.json(),l=0,r=[];for(let e of a){let t=e["Co\xf6rdinaten/Coordinates"]||e["Co\xf6rdinaten\nCoordinates"]||e["Co\xf6rdinaten"]||e.Coordinates,a=e["Oorspr. naam op de kaart/Original name on the map"]||e["Oorspr. naam op de kaart"]||e["Original name on the map"]||"N/A",s=e["Soortnaam/Category"]||e.Soortnaam||e.Category||"Unknown";if(t&&""!==t.trim()&&"-"!==t&&"??"!==t)for(let i of t.split("+").map(e=>e.trim())){if(""===i||"-"===i||"??"===i)continue;let t=function(e){let t,a;if(!e||"string"!=typeof e||""===e.trim()||"-"===e||"??"===e)return null;let[l,r]=e.split("/");if(!l||!r)return null;let s=l.trim().match(/^([\d.-]+)([NS])$/i);if(!s)return null;let[,i,n]=s;t=C(i),"S"===n.toUpperCase()&&(t=-t);let o=r.trim().match(/^([\d.-]+)([EW])$/i);if(!o)return null;let[,d,c]=o;return(a=C(d),"W"===c.toUpperCase()&&(a=-a),isNaN(t)||isNaN(a)||t<-90||t>90||a<-180||a>180)?null:{latitude:t,longitude:a}}(i);t&&r.push({id:"point-".concat(l++),latitude:t.latitude,longitude:t.longitude,originalName:a,category:s||"Unknown",originalCoords:i,rowData:e})}}t(r)}catch(e){s("Failed to load points.json"),t([])}})},[]);let k=(0,r.useMemo)(()=>0===e.length?[]:[...Object.keys(e[0].rowData),"Computed Latitude","Computed Longitude","Parsed Coordinate Segment"],[e]),S=e=>{u(e)};(0,r.useEffect)(()=>{if(o&&f.current){let e=f.current.querySelector('[data-point-id="'.concat(o,'"]'));null==e||e.scrollIntoView({behavior:"smooth",block:"nearest"})}},[o]);let L=(0,r.useMemo)(()=>0===e.length?[]:Array.from(new Set(e.map(e=>e.category))).sort((e,t)=>"Unknown"===e?1:"Unknown"===t?-1:e.localeCompare(t)),[e]),A=(0,r.useMemo)(()=>{let t=e;if(b&&"all"!==b&&(t=t.filter(e=>e.category===b)),""!==p.trim()){let e=p.toLowerCase();t=t.filter(t=>{var a,l,r;return!!((null===(a=t.originalName)||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(l=t.category)||void 0===l?void 0:l.toLowerCase().includes(e))||(null===(r=t.originalCoords)||void 0===r?void 0:r.toLowerCase().includes(e)))||Object.values(t.rowData).some(t=>String(t).toLowerCase().includes(e))})}return t},[e,b,p]);return(0,l.jsx)("div",{className:"flex flex-col h-screen overflow-hidden bg-gray-100",children:(0,l.jsxs)("main",{className:"flex-grow flex flex-row overflow-hidden",children:[(0,l.jsxs)("div",{className:"w-2/5 p-4 flex flex-col space-y-4 border-r border-gray-300 bg-white overflow-hidden",children:[(0,l.jsx)("div",{className:"flex-shrink-0 space-y-3 mb-4 p-3 bg-slate-50 rounded-md border border-slate-200",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"search-table",className:"block text-sm font-medium text-slate-600 mb-1",children:"Search Table"}),(0,l.jsx)(d,{id:"search-table",type:"text",placeholder:"Search all fields...",value:p,onChange:e=>x(e.target.value),className:"w-full",disabled:i||0===e.length})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"category-filter",className:"block text-sm font-medium text-slate-600 mb-1",children:"Filter by Category"}),(0,l.jsxs)(h,{value:b,onValueChange:e=>y(e),disabled:i||0===e.length,children:[(0,l.jsx)(w,{id:"category-filter",className:"w-full",children:(0,l.jsx)(g,{placeholder:"All Categories"})}),(0,l.jsxs)(N,{children:[(0,l.jsx)(j,{value:"all",children:"All Categories"}),L.map(e=>(0,l.jsx)(j,{value:e,children:e},e))]})]})]})]})}),(0,l.jsxs)("div",{className:"flex-grow overflow-hidden flex flex-col",children:[!a&&(e.length>0||p||b)&&!i&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("h3",{className:"text-md font-semibold mb-2 text-slate-700",children:["Displaying ",A.length," (of ",e.length," ","total) from points.json"]}),(0,l.jsx)("div",{className:"flex-grow overflow-auto text-sm border border-gray-200 rounded",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,l.jsx)("thead",{className:"bg-gray-50 sticky top-0 z-10",children:(0,l.jsx)("tr",{children:k.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:e.replace(/\n/g," ")},e))})}),(0,l.jsx)("tbody",{ref:f,className:"bg-white divide-y divide-gray-200",children:A.map(e=>(0,l.jsx)("tr",{"data-point-id":e.id,onClick:()=>S(e.id),className:"cursor-pointer hover:bg-slate-50 ".concat(o===e.id?"bg-slate-200 ring-2 ring-slate-400":""),children:k.map(t=>{let a="";return a="Computed Latitude"===t?e.latitude.toFixed(4):"Computed Longitude"===t?e.longitude.toFixed(4):"Parsed Coordinate Segment"===t?e.originalCoords:e.rowData[t]||"",(0,l.jsx)("td",{className:"px-3 py-1.5 whitespace-nowrap truncate max-w-[200px]",title:String(a),children:String(a)},t)})},e.id))})]})}),e.length>0&&0===A.length&&!i&&(0,l.jsxs)("div",{className:"p-3 mt-2 bg-sky-100 text-sky-700 rounded flex-grow flex items-center justify-center text-sm",children:[(0,l.jsx)(c.A,{className:"h-5 w-5 mr-2 flex-shrink-0"}),"No data matches your current search or filter criteria."]})]}),!a&&0===e.length&&!i&&(0,l.jsxs)("div",{className:"p-3 bg-yellow-100 text-yellow-700 rounded flex-grow flex items-center justify-center text-sm",children:[(0,l.jsx)(c.A,{className:"h-5 w-5 mr-2 flex-shrink-0"}),"No points found in points.json. Check file format and column names."]}),!i&&!a&&(0,l.jsx)("div",{className:"p-3 text-gray-500 rounded flex-grow flex items-center justify-center text-sm",children:"Loading data, please wait..."}),i&&0===e.length&&(0,l.jsxs)("div",{className:"p-3 text-slate-600 rounded flex-grow flex items-center justify-center text-sm",children:[(0,l.jsx)(m.A,{className:"mr-2 h-5 w-5 animate-spin"})," Loading data for table..."]})]})]}),(0,l.jsx)("div",{className:"flex-grow h-full bg-gray-200",children:(0,l.jsx)(v,{points:A,selectedPointId:o,onPointSelect:S})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[781,22,575,358],()=>t(3761)),_N_E=e.O()}]);