(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5603:(e,t,s)=>{Promise.resolve().then(s.bind(s,6909))},6909:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>X});var a=s(2432),r=s(9929),l=s.n(r),i=s(364),n=s(9759),o=s(2126),d=s(8441);function c(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,d.QP)((0,o.$)(t))}let x=i.forwardRef((e,t)=>{let{className:s,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:c("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});x.displayName="Input";var m=s(9685),f=s(9920),u=s(6155),h=s(7997),p=s(8725),g=s(8057),j=s(4314),b=s(3881),w=s(9086),v=s(9815),N=s(2121),y=s(4432),k=s(3491);let C=y.bL;y.YJ;let S=y.WT,L=i.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(y.l9,{ref:t,className:c("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[r,(0,a.jsx)(y.In,{asChild:!0,children:(0,a.jsx)(v.A,{className:"h-4 w-4 opacity-50"})})]})});L.displayName=y.l9.displayName;let P=i.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(y.PP,{ref:t,className:c("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(w.A,{className:"h-4 w-4"})})});P.displayName=y.PP.displayName;let E=i.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(y.wn,{ref:t,className:c("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(v.A,{className:"h-4 w-4"})})});E.displayName=y.wn.displayName;let A=i.forwardRef((e,t)=>{let{className:s,children:r,position:l="popper",...i}=e;return(0,a.jsx)(y.ZL,{children:(0,a.jsxs)(y.UC,{ref:t,className:c("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...i,children:[(0,a.jsx)(P,{}),(0,a.jsx)(y.LM,{className:c("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(E,{})]})})});A.displayName=y.UC.displayName,i.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(y.JU,{ref:t,className:c("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=y.JU.displayName;let R=i.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(y.q7,{ref:t,className:c("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(y.VF,{children:(0,a.jsx)(k.A,{className:"h-4 w-4"})})}),(0,a.jsx)(y.p4,{children:r})]})});R.displayName=y.q7.displayName,i.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(y.wv,{ref:t,className:c("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=y.wv.displayName;var O=s(4793);let z=(0,s(6992).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),M=i.forwardRef((e,t)=>{let{className:s,variant:r,size:l,asChild:i=!1,...n}=e,o=i?O.DX:"button";return(0,a.jsx)(o,{className:c(z({variant:r,size:l,className:s})),ref:t,...n})});M.displayName="Button";var U=s(7637);let D=U.Kq,W=U.bL,T=U.l9,F=i.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...l}=e;return(0,a.jsx)(U.UC,{ref:t,sideOffset:r,className:c("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...l})});F.displayName=U.UC.displayName;let I=new Map;function _(e){let t=e.split("-").map(e=>Number.parseFloat(e.trim()));if(t.some(isNaN))return Number.NaN;let s=0;return t.length>=1&&(s+=t[0]),t.length>=2&&(s+=t[1]/60),t.length>=3&&(s+=t[2]/3600),s}async function q(e){return new Promise(t=>{let s=(a,r)=>{let l=r.length,i=Math.min(a+100,e.length);for(let t=a;t<i;t++){let s=e[t],a=s["Co\xf6rdinaten/Coordinates"]||s["Co\xf6rdinaten\nCoordinates"]||s["Co\xf6rdinaten"]||s.Coordinates,i=s["Oorspr. naam op de kaart/Original name on the map"]||s["Oorspr. naam op de kaart\nOriginal name on the map"]||s["Oorspr. naam op de kaart"]||s["Original name on the map"]||"N/A",n=s["Soortnaam/Category"]||s["Soortnaam\nCategory"]||s.Soortnaam||s.Category||"Unknown";if(a&&""!==a.trim()&&"-"!==a&&"??"!==a)for(let e of a.split("+").map(e=>e.trim())){if(""===e||"-"===e||"??"===e)continue;let t=function(e){let t,s;if(!e||"string"!=typeof e||""===e.trim()||"-"===e||"??"===e)return null;if(I.has(e))return I.get(e);let[a,r]=e.split("/");if(!a||!r)return I.set(e,null),null;let l=a.trim().match(/^([\d.-]+)([NS])$/i);if(!l)return I.set(e,null),null;let[,i,n]=l;t=_(i),"S"===n.toUpperCase()&&(t=-t);let o=r.trim().match(/^([\d.-]+)([EW])$/i);if(!o)return I.set(e,null),null;let[,d,c]=o;if(s=_(d),"W"===c.toUpperCase()&&(s=-s),isNaN(t)||isNaN(s)||t<-90||t>90||s<-180||s>180)return I.set(e,null),null;let x={latitude:t,longitude:s};return I.set(e,x),x}(e);t&&r.push({id:"point-".concat(l++),latitude:t.latitude,longitude:t.longitude,originalName:i,category:n||"Unknown",originalCoords:e,rowData:s})}}i<e.length?"requestIdleCallback"in window?requestIdleCallback(()=>s(i,r)):setTimeout(()=>s(i,r),0):t(r)};s(0,[])})}var V=s(4124),G=s(9392),B=s(1194),J=s(7254);let K=i.memo(e=>{let{index:t,style:s,data:r}=e,{points:l,headers:n,selectedPointId:o,hoveredRowId:d,onPointSelect:c,onRowHover:x,getCategoryColor:m,copyToClipboard:f}=r,u=l[t],h=(0,i.useMemo)(()=>({...s,display:"flex",alignItems:"center",cursor:"pointer",transition:"all 0.2s",backgroundColor:o===u.id?"rgba(251, 191, 36, 0.1)":d===u.id?"rgba(120, 113, 108, 0.05)":t%2==0?"rgba(255, 255, 255, 0.6)":"rgba(245, 245, 244, 0.4)",borderBottom:"1px solid rgba(231, 229, 228, 0.6)",borderLeft:o===u.id?"3px solid #d97706":"none"}),[s,o,d,u.id,t]);return(0,a.jsxs)("div",{style:h,onClick:()=>c(u.id),onMouseEnter:()=>x(u.id),onMouseLeave:()=>x(null),children:[n.map(e=>{let t="",s=!1;return"Computed Latitude"===e?(t=u.latitude.toFixed(4),s=!0):"Computed Longitude"===e?(t=u.longitude.toFixed(4),s=!0):"Parsed Coordinate Segment"===e?(t=u.originalCoords,s=!0):t=u.rowData&&Object.prototype.hasOwnProperty.call(u.rowData,e)?u.rowData[e]:"",(0,a.jsx)("div",{style:{width:200,minWidth:200,maxWidth:200},className:"px-4 py-2 text-sm overflow-hidden whitespace-nowrap text-ellipsis border-r border-stone-200/60",children:(0,a.jsx)("div",{className:"flex items-center space-x-2",children:"Soortnaam\nCategory"===e?(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(m(String(t))),children:String(t)}):s&&e.includes("Latitude")?(0,a.jsxs)("div",{className:"flex items-center space-x-2 group",children:[(0,a.jsx)("span",{className:"text-slate-700 font-mono text-xs",children:String(t)}),(0,a.jsx)(M,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),f(String(t))},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-slate-200 rounded transition-all",title:"Copy to clipboard",children:(0,a.jsx)(G.A,{className:"h-3 w-3 text-slate-500"})})]}):s&&e.includes("Longitude")?(0,a.jsxs)("div",{className:"flex items-center space-x-2 group",children:[(0,a.jsx)("span",{className:"text-slate-700 font-mono text-xs",children:String(t)}),(0,a.jsx)(M,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),f(String(t))},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-slate-200 rounded transition-all",title:"Copy to clipboard",children:(0,a.jsx)(G.A,{className:"h-3 w-3 text-slate-500"})})]}):"Co\xf6rdinaten\nCoordinates"===e&&t&&"-"!==t?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(B.A,{className:"h-3 w-3 text-slate-400 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-slate-700 truncate",title:String(t),children:String(t)})]}):(0,a.jsx)("span",{className:"text-slate-700 truncate block",title:String(t),children:String(t)||(0,a.jsx)("span",{className:"text-slate-400 italic",children:"—"})})})},e)}),(0,a.jsxs)("div",{className:"w-12 px-2 py-2 flex items-center justify-center",children:[o===u.id&&(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-amber-600 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-xs text-amber-700 font-medium",children:"Selected"})]}),d===u.id&&o!==u.id&&(0,a.jsx)(J.A,{className:"h-4 w-4 text-slate-400"})]})]})});K.displayName="TableRow";let $=i.memo(e=>{let{data:t,headers:s,selectedPointId:r,hoveredRowId:l,onPointSelect:n,onRowHover:o,getColumnDisplayName:d,getCategoryColor:c,copyToClipboard:x,sortConfig:m,onSort:f}=e,u=(0,i.useMemo)(()=>{if(!r)return t;let e=t.findIndex(e=>e.id===r);return -1===e?t:[t[e],...t.slice(0,e),...t.slice(e+1)]},[t,r]),h=(0,i.useMemo)(()=>({points:u,headers:s,selectedPointId:r,hoveredRowId:l,onPointSelect:n,onRowHover:o,getColumnDisplayName:d,getCategoryColor:c,copyToClipboard:x}),[u,s,r,l,n,o,d,c,x]);return(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)("div",{className:"sticky top-0 z-10 bg-gradient-to-r from-stone-100/80 to-stone-200/60 border-b border-stone-200/60",children:(0,a.jsxs)("div",{className:"flex",children:[s.map(e=>{let t=m&&m.key===e,s=t?"asc"===m.direction?"▲":"▼":"";return(0,a.jsx)("div",{style:{width:200,minWidth:200,maxWidth:200,cursor:f?"pointer":"default"},className:"px-4 py-3 whitespace-nowrap overflow-hidden text-ellipsis border-r border-stone-200/60 select-none group",onClick:f?()=>f(e):void 0,title:f?"Sort by ".concat(d(e)):void 0,children:(0,a.jsxs)("span",{className:"text-xs font-semibold text-stone-700 uppercase tracking-wider flex items-center gap-1",children:[d(e),(0,a.jsx)("span",{className:"transition-opacity duration-150 ".concat(t?"opacity-100":"opacity-0 group-hover:opacity-60"),children:s})]})},e)}),(0,a.jsx)("div",{className:"w-12 px-2 py-3"})]})}),(0,a.jsx)(V.Y1,{height:400,width:200*s.length+48,itemCount:u.length,itemSize:60,itemData:h,overscanCount:5,children:K})]})});$.displayName="VirtualizedTable";class H{async processRawData(e,t){if(!this.worker)throw Error("Web Worker not available");if(this.isProcessing)throw Error("Worker is already processing data");return this.isProcessing=!0,new Promise((s,a)=>{let r=e=>{let{type:l,payload:i}=e.data;switch(l){case"PROGRESS":null==t||t(i.progress);break;case"COMPLETE":this.worker.removeEventListener("message",r),this.isProcessing=!1,s(i.points);break;case"ERROR":this.worker.removeEventListener("message",r),this.isProcessing=!1,a(Error(i.message))}};this.worker.addEventListener("message",r),this.worker.postMessage({type:"PROCESS_DATA",payload:{rawData:e}})})}async filterData(e,t,s,a){if(!this.worker)throw Error("Web Worker not available");return new Promise((r,l)=>{let i=e=>{let{type:t,payload:s}=e.data;switch(t){case"COMPLETE":this.worker.removeEventListener("message",i),r(s.points);break;case"ERROR":this.worker.removeEventListener("message",i),l(Error(s.message))}};this.worker.addEventListener("message",i),this.worker.postMessage({type:"FILTER_DATA",payload:{points:e,categoryFilter:t,searchQuery:s,sortConfig:a}})})}destroy(){this.worker&&(this.worker.terminate(),this.worker=null),this.isProcessing=!1}constructor(){this.worker=null,this.isProcessing=!1,this.worker=new Worker("/data-worker.js")}}let Y=(0,n.default)(()=>Promise.all([s.e(412),s.e(550),s.e(623),s.e(43)]).then(s.bind(s,3043)),{loadableGenerated:{webpack:()=>[3043]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-gray-600",children:"Loading map..."})})}),Q=e=>0===e.length?[]:[...Object.keys(e[0].rowData),"Computed Latitude","Computed Longitude","Parsed Coordinate Segment"];function X(){let[e,t]=(0,i.useState)([]),[s,r]=(0,i.useState)(null),[n,o]=(0,i.useTransition)(),[d,c]=(0,i.useState)(null),y=(0,i.useRef)(null),[k,P]=(0,i.useState)(""),[E,O]=(0,i.useState)(""),[z,U]=(0,i.useState)(null),[I,_]=(0,i.useState)(null),[V,G]=(0,i.useState)(new Set),[B,J]=(0,i.useState)(0),K=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(!K.current)try{K.current=new H}catch(e){console.warn("Web Worker not available, falling back to main thread processing")}return()=>{K.current&&(K.current.destroy(),K.current=null)}},[]);let X=(0,i.useCallback)(async()=>{r(null),J(0);try{let e;let s=await fetch("".concat("/coordinate-transformer","/points.json"));if(!s.ok)throw Error("Failed to load data: ".concat(s.status));J(.3);let a=await s.json();J(.6),e=K.current?await K.current.processRawData(a,e=>J(.6+.4*e)):await q(a),t(e),J(1)}catch(e){console.error("Data loading error:",e),r("Failed to load points data: ".concat(e instanceof Error?e.message:"Unknown error")),t([])}},[]);(0,i.useEffect)(()=>{o(()=>{X()})},[X]);let Z=(0,i.useMemo)(()=>Q(e),[e]),ee=(0,i.useCallback)(e=>{c(e)},[]),et=(0,i.useCallback)(()=>{o(()=>{X()})},[X]),es=(0,i.useCallback)(()=>{P(""),O(""),c(null),U(null)},[]),ea=(0,i.useCallback)(e=>{U(t=>{let s="asc";return t&&t.key===e&&"asc"===t.direction&&(s="desc"),{key:e,direction:s}})},[]),er=(0,i.useCallback)(async e=>{try{await navigator.clipboard.writeText(e)}catch(e){console.error("Failed to copy to clipboard:",e)}},[]),el=(0,i.useCallback)(e=>({"Computed Latitude":"Latitude","Computed Longitude":"Longitude","Parsed Coordinate Segment":"Coordinates","Oorspr. naam op de kaart\nOriginal name on the map":"Original Name","Soortnaam\nCategory":"Category","Tegenwoordige naam\nPresent name":"Present Name","Co\xf6rdinaten\nCoordinates":"Raw Coordinates","Kaartvak\nMap grid square":"Grid Square","Kaart\nMap":"Map","Pagina\nPage":"Page","Index page":"Index"})[e]||e.replace(/\n/g," "),[]),ei=(0,i.useCallback)(e=>({"plaats/settlement":"bg-blue-50 text-blue-800 border border-blue-200","eiland/island":"bg-amber-50 text-amber-800 border border-amber-200","rivier/river":"bg-emerald-50 text-emerald-800 border border-emerald-200","kaap/cape":"bg-violet-50 text-violet-800 border border-violet-200","landstreek/region":"bg-stone-50 text-stone-800 border border-stone-200","baai/bay":"bg-cyan-50 text-cyan-800 border border-cyan-200","berg/mountain":"bg-rose-50 text-rose-800 border border-rose-200","fort/fortress":"bg-indigo-50 text-indigo-800 border border-indigo-200","eilanden/islands":"bg-orange-50 text-orange-800 border border-orange-200","ondiepte/shoals":"bg-teal-50 text-teal-800 border border-teal-200","zeestraat/strait":"bg-sky-50 text-sky-800 border border-sky-200","provincie/province":"bg-purple-50 text-purple-800 border border-purple-200",Unknown:"bg-gray-50 text-gray-700 border border-gray-200"})[e]||"bg-gray-50 text-gray-700 border border-gray-200",[]),en=(0,i.useMemo)(()=>0===e.length?[]:Array.from(new Set(e.map(e=>e.category))).sort((e,t)=>"Unknown"===e?1:"Unknown"===t?-1:e.localeCompare(t)),[e]),eo=(0,i.useMemo)(()=>(function(e,t,s,a){let r=e;if(t&&"all"!==t&&(r=r.filter(e=>e.category===t)),""!==s.trim()){let e=s.toLowerCase();r=r.filter(t=>{var s,a,r;return!!((null===(s=t.originalName)||void 0===s?void 0:s.toLowerCase().includes(e))||(null===(a=t.category)||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(r=t.originalCoords)||void 0===r?void 0:r.toLowerCase().includes(e)))||Object.values(t.rowData).some(t=>String(t).toLowerCase().includes(e))})}return a&&(r=[...r].sort((e,t)=>{let s,r;if("Computed Latitude"===a.key?(s=e.latitude,r=t.latitude):"Computed Longitude"===a.key?(s=e.longitude,r=t.longitude):"Parsed Coordinate Segment"===a.key?(s=e.originalCoords,r=t.originalCoords):(s=e.rowData[a.key]||"",r=t.rowData[a.key]||""),"number"==typeof s&&"number"==typeof r)return"asc"===a.direction?s-r:r-s;let l=String(s).toLowerCase(),i=String(r).toLowerCase();return"asc"===a.direction?l.localeCompare(i):i.localeCompare(l)})),r})(e,E,k,z),[e,E,k,z]),ed=(0,i.useCallback)(()=>{let e=new Blob([[["Name","Category","Latitude","Longitude","Original Coordinates"],...eo.map(e=>({name:e.originalName,category:e.category,latitude:e.latitude,longitude:e.longitude,originalCoords:e.originalCoords})).map(e=>[e.name,e.category,e.latitude.toString(),e.longitude.toString(),e.originalCoords])].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n")],{type:"text/csv"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="filtered-coordinates.csv",s.click(),URL.revokeObjectURL(t)},[eo]);return(0,i.useEffect)(()=>{if(d&&y.current){let e=y.current.querySelector('[data-point-id="'.concat(d,'"]'));null==e||e.scrollIntoView({behavior:"smooth",block:"nearest"})}},[d]),(0,a.jsx)(D,{children:(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex flex-col h-screen overflow-hidden bg-gradient-to-br from-amber-50 via-stone-50 to-amber-100",children:[(0,a.jsx)("header",{className:"jsx-800e97d8524fcfe5 bg-white/95 backdrop-blur-sm border-b border-amber-200/50 shadow-sm cartographic-shadow px-6 py-4 flex-shrink-0",children:(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 p-3 bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl shadow-sm",children:(0,a.jsx)(m.A,{className:"h-7 w-7 text-blue-700"})}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5",children:[(0,a.jsx)("h1",{className:"jsx-800e97d8524fcfe5 text-2xl font-serif font-semibold text-stone-800 tracking-wide",children:"Historical Atlas Explorer"}),(0,a.jsx)("p",{className:"jsx-800e97d8524fcfe5 text-sm text-stone-600 font-medium tracking-wide",children:"Geographic Data Visualization & Cartographic Analysis"})]})]}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center space-x-2",children:[e.length>0&&(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 hidden sm:flex items-center space-x-4 text-sm text-stone-600 bg-stone-100/60 px-3 py-2 rounded-lg border border-stone-200/50 cartographic-shadow",children:[(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center space-x-1",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 text-amber-700"}),(0,a.jsxs)("span",{className:"jsx-800e97d8524fcfe5 font-medium",children:[e.length," total points"]})]}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center space-x-1",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 text-amber-700"}),(0,a.jsxs)("span",{className:"jsx-800e97d8524fcfe5 font-medium",children:[eo.length," visible"]})]})]}),(0,a.jsxs)(W,{children:[(0,a.jsx)(T,{asChild:!0,children:(0,a.jsx)(M,{variant:"outline",size:"sm",onClick:et,disabled:n,children:(0,a.jsx)(h.A,{className:"h-4 w-4 ".concat(n?"animate-spin":"")})})}),(0,a.jsx)(F,{children:"Refresh data"})]})]})]})}),(0,a.jsxs)("main",{className:"jsx-800e97d8524fcfe5 flex-grow flex flex-row overflow-hidden",children:[(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 w-2/5 flex flex-col bg-stone-50/50 border-r border-stone-200/60 cartographic-shadow",children:[(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 flex-shrink-0 p-4 bg-stone-100/40 border-b border-stone-200/60",children:(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 space-y-4",children:[(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center justify-between",children:[(0,a.jsxs)("h2",{className:"jsx-800e97d8524fcfe5 text-lg font-serif font-semibold text-stone-800 flex items-center tracking-wide",children:[(0,a.jsx)(p.A,{className:"h-5 w-5 mr-2 text-amber-700"}),"Search & Filter"]}),(k||E)&&(0,a.jsx)(M,{variant:"ghost",size:"sm",onClick:es,className:"text-stone-600 hover:text-stone-800",children:"Clear all"})]}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 grid grid-cols-1 gap-4",children:[(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 space-y-2",children:[(0,a.jsx)("label",{htmlFor:"search-table",className:"jsx-800e97d8524fcfe5 text-sm font-serif font-semibold text-stone-700 tracking-wide",children:"Search locations"}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 relative",children:[(0,a.jsx)(p.A,{className:"absolute left-3 top-2.5 h-4 w-4 text-stone-400"}),(0,a.jsx)(x,{id:"search-table",type:"text",placeholder:"Search names, categories, coordinates...",value:k,onChange:e=>P(e.target.value),className:"pl-10 bg-white/80 border-stone-300 focus:border-amber-400 focus:ring-amber-200",disabled:n||0===e.length})]})]}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 space-y-2",children:[(0,a.jsx)("label",{htmlFor:"category-filter",className:"jsx-800e97d8524fcfe5 text-sm font-serif font-semibold text-stone-700 tracking-wide",children:"Filter by category"}),(0,a.jsxs)(C,{value:E,onValueChange:e=>O(e),disabled:n||0===e.length,children:[(0,a.jsx)(L,{id:"category-filter",children:(0,a.jsx)(S,{placeholder:"All categories"})}),(0,a.jsxs)(A,{children:[(0,a.jsx)(R,{value:"all",children:"All categories"}),en.map(e=>(0,a.jsx)(R,{value:e,children:e},e))]})]})]})]}),eo.length>0&&(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center justify-between pt-2 border-t border-slate-200",children:[(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 text-sm text-slate-600",children:["Showing"," ",(0,a.jsx)("span",{className:"jsx-800e97d8524fcfe5 font-medium text-slate-800",children:eo.length})," ","of"," ",(0,a.jsx)("span",{className:"jsx-800e97d8524fcfe5 font-medium text-slate-800",children:e.length})," ","locations"]}),(0,a.jsxs)(W,{children:[(0,a.jsx)(T,{asChild:!0,children:(0,a.jsxs)(M,{variant:"outline",size:"sm",onClick:ed,disabled:0===eo.length,children:[(0,a.jsx)(g.A,{className:"h-4 w-4 mr-1"}),"Export"]})}),(0,a.jsx)(F,{children:"Export visible data as CSV"})]})]})]})}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex-grow overflow-hidden flex flex-col",children:[s&&(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 p-4 bg-red-50 border-l-4 border-red-400 m-4",children:(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center",children:[(0,a.jsx)(j.A,{className:"h-5 w-5 text-red-400 mr-2"}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5",children:[(0,a.jsx)("h3",{className:"jsx-800e97d8524fcfe5 text-sm font-medium text-red-800",children:"Error loading data"}),(0,a.jsx)("p",{className:"jsx-800e97d8524fcfe5 text-sm text-red-700 mt-1",children:s})]})]})}),!s&&n&&0===e.length&&(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 flex-grow flex items-center justify-center",children:(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 text-center space-y-3",children:[(0,a.jsx)(b.A,{className:"h-8 w-8 animate-spin mx-auto text-blue-600"}),(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 text-slate-600",children:"Loading geographic data..."}),(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 text-sm text-slate-500",children:K.current?"Using Web Worker for processing":"Processing on main thread"}),B>0&&B<1&&(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 w-48 mx-auto",children:[(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{style:{width:"".concat(100*B,"%")},className:"jsx-800e97d8524fcfe5 bg-blue-600 h-2 rounded-full transition-all duration-300"})}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 text-xs text-slate-500 mt-1",children:[Math.round(100*B),"% complete"]})]})]})}),!s&&0===e.length&&!n&&(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 flex-grow flex items-center justify-center p-6",children:(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 text-center space-y-3",children:[(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 p-3 bg-yellow-100 rounded-full w-fit mx-auto",children:(0,a.jsx)(j.A,{className:"h-8 w-8 text-yellow-600"})}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 space-y-1",children:[(0,a.jsx)("h3",{className:"jsx-800e97d8524fcfe5 text-lg font-medium text-slate-800",children:"No data found"}),(0,a.jsx)("p",{className:"jsx-800e97d8524fcfe5 text-sm text-slate-600",children:"No geographic coordinates were found in the data file."}),(0,a.jsx)("p",{className:"jsx-800e97d8524fcfe5 text-xs text-slate-500",children:"Check that the file format and column names are correct."})]})]})}),!s&&e.length>0&&!n&&(0,a.jsx)(a.Fragment,{children:0===eo.length?(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 flex-grow flex items-center justify-center p-6",children:(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 text-center space-y-3",children:[(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 p-3 bg-blue-100 rounded-full w-fit mx-auto",children:(0,a.jsx)(p.A,{className:"h-8 w-8 text-blue-600"})}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 space-y-1",children:[(0,a.jsx)("h3",{className:"jsx-800e97d8524fcfe5 text-lg font-medium text-slate-800",children:"No matches found"}),(0,a.jsx)("p",{className:"jsx-800e97d8524fcfe5 text-sm text-slate-600",children:"Try adjusting your search or filter criteria."})]}),(0,a.jsx)(M,{variant:"outline",size:"sm",onClick:es,children:"Clear filters"})]})}):(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex-grow overflow-hidden flex flex-col",children:[(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 flex-shrink-0 px-4 py-3 bg-stone-50/80 border-b border-stone-200/60",children:(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center space-x-2",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 text-amber-700"}),(0,a.jsxs)("span",{className:"jsx-800e97d8524fcfe5 text-sm font-medium text-stone-700",children:[eo.length," location",1!==eo.length?"s":""]}),z&&(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center space-x-1 text-xs text-stone-500",children:[(0,a.jsx)("span",{className:"jsx-800e97d8524fcfe5",children:"•"}),(0,a.jsxs)("span",{className:"jsx-800e97d8524fcfe5",children:["Sorted by"," ",el(z.key)]}),"asc"===z.direction?(0,a.jsx)(w.A,{className:"h-3 w-3"}):(0,a.jsx)(v.A,{className:"h-3 w-3"})]})]}),(0,a.jsx)(M,{variant:"ghost",size:"sm",onClick:()=>U(null),className:"text-xs text-stone-500 hover:text-stone-700",disabled:!z,children:"Clear sort"})]})}),(0,a.jsx)("div",{style:{WebkitOverflowScrolling:"touch"},className:"jsx-800e97d8524fcfe5 overflow-x-auto w-full",children:(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 min-w-[900px]",children:(0,a.jsx)($,{data:eo,headers:Z,selectedPointId:d,hoveredRowId:I,onPointSelect:ee,onRowHover:_,getColumnDisplayName:el,getCategoryColor:ei,copyToClipboard:er,sortConfig:z,onSort:ea})})}),(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 flex-shrink-0 px-4 py-3 bg-stone-100/60 border-t border-stone-200/60",children:(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center justify-between text-sm text-stone-600",children:[(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center space-x-4",children:[(0,a.jsx)("span",{className:"jsx-800e97d8524fcfe5",children:"Click any row to view on map"}),(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 h-3 w-px bg-stone-300"}),(0,a.jsxs)("span",{className:"jsx-800e97d8524fcfe5",children:[eo.length," results"]})]}),(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 flex items-center space-x-2",children:(0,a.jsx)("span",{className:"jsx-800e97d8524fcfe5 text-xs",children:"Tip: Click column headers to sort"})})]})})]})})]})]}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex-grow h-full relative",children:[e.length>0&&0===eo.length&&!n&&(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 absolute inset-0 bg-slate-100 bg-opacity-75 z-10 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 bg-white p-6 rounded-lg shadow-lg text-center space-y-3",children:[(0,a.jsx)(N.A,{className:"h-8 w-8 text-blue-600 mx-auto"}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5",children:[(0,a.jsx)("h3",{className:"jsx-800e97d8524fcfe5 text-lg font-medium text-slate-800",children:"Map filtered"}),(0,a.jsx)("p",{className:"jsx-800e97d8524fcfe5 text-sm text-slate-600",children:"No locations match your current filters."})]}),(0,a.jsx)(M,{variant:"outline",size:"sm",onClick:es,children:"Show all locations"})]})}),(0,a.jsx)(Y,{points:eo,selectedPointId:d,onPointSelect:ee})]})]}),(0,a.jsx)(l(),{id:"800e97d8524fcfe5",children:".wider-table-row td{white-space:normal!important;word-break:break-word;min-width:180px;max-width:400px;padding-top:.75rem;padding-bottom:.75rem;font-size:1.05rem}"})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[610,22,575,358],()=>t(5603)),_N_E=e.O()}]);