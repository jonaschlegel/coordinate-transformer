(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3761:(e,t,a)=>{Promise.resolve().then(a.bind(a,8763))},8763:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>q});var s=a(2432),l=a(364),r=a(9759),i=a(2126),n=a(8441);function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,i.$)(t))}let d=l.forwardRef((e,t)=>{let{className:a,type:l,...r}=e;return(0,s.jsx)("input",{type:l,className:o("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...r})});d.displayName="Input";var c=a(9685),m=a(9920),x=a(6155),u=a(7997),h=a(8725),f=a(8057),p=a(4314),g=a(3881),j=a(2121),N=a(4432),b=a(9815),v=a(9086),y=a(3491);let w=N.bL;N.YJ;let C=N.WT,k=l.forwardRef((e,t)=>{let{className:a,children:l,...r}=e;return(0,s.jsxs)(N.l9,{ref:t,className:o("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...r,children:[l,(0,s.jsx)(N.In,{asChild:!0,children:(0,s.jsx)(b.A,{className:"h-4 w-4 opacity-50"})})]})});k.displayName=N.l9.displayName;let S=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(N.PP,{ref:t,className:o("flex cursor-default items-center justify-center py-1",a),...l,children:(0,s.jsx)(v.A,{className:"h-4 w-4"})})});S.displayName=N.PP.displayName;let A=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(N.wn,{ref:t,className:o("flex cursor-default items-center justify-center py-1",a),...l,children:(0,s.jsx)(b.A,{className:"h-4 w-4"})})});A.displayName=N.wn.displayName;let L=l.forwardRef((e,t)=>{let{className:a,children:l,position:r="popper",...i}=e;return(0,s.jsx)(N.ZL,{children:(0,s.jsxs)(N.UC,{ref:t,className:o("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r,...i,children:[(0,s.jsx)(S,{}),(0,s.jsx)(N.LM,{className:o("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,s.jsx)(A,{})]})})});L.displayName=N.UC.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(N.JU,{ref:t,className:o("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...l})}).displayName=N.JU.displayName;let O=l.forwardRef((e,t)=>{let{className:a,children:l,...r}=e;return(0,s.jsxs)(N.q7,{ref:t,className:o("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(N.VF,{children:(0,s.jsx)(y.A,{className:"h-4 w-4"})})}),(0,s.jsx)(N.p4,{children:l})]})});O.displayName=N.q7.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(N.wv,{ref:t,className:o("-mx-1 my-1 h-px bg-muted",a),...l})}).displayName=N.wv.displayName;var U=a(4793);let z=(0,a(6992).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),R=l.forwardRef((e,t)=>{let{className:a,variant:l,size:r,asChild:i=!1,...n}=e,d=i?U.DX:"button";return(0,s.jsx)(d,{className:o(z({variant:l,size:r,className:a})),ref:t,...n})});R.displayName="Button";var F=a(7637);let E=F.Kq,P=F.bL,_=F.l9,D=l.forwardRef((e,t)=>{let{className:a,sideOffset:l=4,...r}=e;return(0,s.jsx)(F.UC,{ref:t,sideOffset:l,className:o("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})});D.displayName=F.UC.displayName;let V=(0,r.default)(()=>Promise.all([a.e(412),a.e(550),a.e(653),a.e(43)]).then(a.bind(a,3043)),{loadableGenerated:{webpack:()=>[3043]},ssr:!1,loading:()=>(0,s.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-gray-600",children:"Loading map..."})})});function M(e){let t,a;if(!e||"string"!=typeof e||""===e.trim()||"-"===e||"??"===e)return null;let[s,l]=e.split("/");if(!s||!l)return null;let r=s.trim().match(/^([\d.-]+)([NS])$/i);if(!r)return null;let[,i,n]=r;t=T(i),"S"===n.toUpperCase()&&(t=-t);let o=l.trim().match(/^([\d.-]+)([EW])$/i);if(!o)return null;let[,d,c]=o;return(a=T(d),"W"===c.toUpperCase()&&(a=-a),isNaN(t)||isNaN(a)||t<-90||t>90||a<-180||a>180)?null:{latitude:t,longitude:a}}function T(e){let t=e.split("-").map(e=>Number.parseFloat(e.trim()));if(t.some(isNaN))return Number.NaN;let a=0;return t.length>=1&&(a+=t[0]),t.length>=2&&(a+=t[1]/60),t.length>=3&&(a+=t[2]/3600),a}function q(){let[e,t]=(0,l.useState)([]),[a,r]=(0,l.useState)(null),[i,n]=(0,l.useTransition)(),[o,N]=(0,l.useState)(null),b=(0,l.useRef)(null),[v,y]=(0,l.useState)(""),[S,A]=(0,l.useState)("");(0,l.useEffect)(()=>{n(async()=>{r(null);try{let e=await fetch("/points.json"),a=await e.json(),s=0,l=[];for(let e of a){let t=e["Co\xf6rdinaten\nCoordinates"]||e["Co\xf6rdinaten/Coordinates"]||e["Co\xf6rdinaten\nCoordinates"]||e["Co\xf6rdinaten"]||e.Coordinates,a=e["Oorspr. naam op de kaart\nOriginal name on the map"]||e["Oorspr. naam op de kaart/Original name on the map"]||e["Oorspr. naam op de kaart"]||e["Original name on the map"]||"N/A",r=e["Soortnaam\nCategory"]||e["Soortnaam/Category"]||e.Soortnaam||e.Category||"Unknown";if(t&&""!==t.trim()&&"-"!==t&&"??"!==t)for(let i of t.split("+").map(e=>e.trim())){if(""===i||"-"===i||"??"===i)continue;let t=M(i);t&&l.push({id:"point-".concat(s++),latitude:t.latitude,longitude:t.longitude,originalName:a,category:r||"Unknown",originalCoords:i,rowData:e})}}t(l)}catch(e){r("Failed to load points.json"),t([])}})},[]);let U=(0,l.useMemo)(()=>0===e.length?[]:[...Object.keys(e[0].rowData),"Computed Latitude","Computed Longitude","Parsed Coordinate Segment"],[e]),z=e=>{N(e)},F=()=>{y(""),A(""),N(null)};(0,l.useEffect)(()=>{if(o&&b.current){let e=b.current.querySelector('[data-point-id="'.concat(o,'"]'));null==e||e.scrollIntoView({behavior:"smooth",block:"nearest"})}},[o]);let T=(0,l.useMemo)(()=>0===e.length?[]:Array.from(new Set(e.map(e=>e.category))).sort((e,t)=>"Unknown"===e?1:"Unknown"===t?-1:e.localeCompare(t)),[e]),q=(0,l.useMemo)(()=>{let t=e;if(S&&"all"!==S&&(t=t.filter(e=>e.category===S)),""!==v.trim()){let e=v.toLowerCase();t=t.filter(t=>{var a,s,l;return!!((null===(a=t.originalName)||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(s=t.category)||void 0===s?void 0:s.toLowerCase().includes(e))||(null===(l=t.originalCoords)||void 0===l?void 0:l.toLowerCase().includes(e)))||Object.values(t.rowData).some(t=>String(t).toLowerCase().includes(e))})}return t},[e,S,v]);return(0,s.jsx)(E,{children:(0,s.jsxs)("div",{className:"flex flex-col h-screen overflow-hidden bg-gradient-to-br from-slate-50 to-slate-100",children:[(0,s.jsx)("header",{className:"bg-white border-b border-slate-200 shadow-sm px-6 py-4 flex-shrink-0",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,s.jsx)(c.A,{className:"h-6 w-6 text-blue-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-slate-800",children:"Coordinate Explorer"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Historical Atlas Geographic Data Visualization"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[e.length>0&&(0,s.jsxs)("div",{className:"hidden sm:flex items-center space-x-4 text-sm text-slate-600 bg-slate-50 px-3 py-2 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(m.A,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:[e.length," total points"]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(x.A,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:[q.length," visible"]})]})]}),(0,s.jsxs)(P,{children:[(0,s.jsx)(_,{asChild:!0,children:(0,s.jsx)(R,{variant:"outline",size:"sm",onClick:()=>{n(async()=>{r(null);try{let e=await fetch("/points.json?"+new Date().getTime()),a=await e.json(),s=0,l=[];for(let e of a){let t=e["Co\xf6rdinaten\nCoordinates"]||e["Co\xf6rdinaten/Coordinates"]||e["Co\xf6rdinaten\nCoordinates"]||e["Co\xf6rdinaten"]||e.Coordinates,a=e["Oorspr. naam op de kaart\nOriginal name on the map"]||e["Oorspr. naam op de kaart/Original name on the map"]||e["Oorspr. naam op de kaart"]||e["Original name on the map"]||"N/A",r=e["Soortnaam\nCategory"]||e["Soortnaam/Category"]||e.Soortnaam||e.Category||"Unknown";if(t&&""!==t.trim()&&"-"!==t&&"??"!==t)for(let i of t.split("+").map(e=>e.trim())){if(""===i||"-"===i||"??"===i)continue;let t=M(i);t&&l.push({id:"point-".concat(s++),latitude:t.latitude,longitude:t.longitude,originalName:a,category:r||"Unknown",originalCoords:i,rowData:e})}}t(l)}catch(e){r("Failed to load points.json"),t([])}})},disabled:i,children:(0,s.jsx)(u.A,{className:"h-4 w-4 ".concat(i?"animate-spin":"")})})}),(0,s.jsx)(D,{children:"Refresh data"})]})]})]})}),(0,s.jsxs)("main",{className:"flex-grow flex flex-row overflow-hidden",children:[(0,s.jsxs)("div",{className:"w-2/5 flex flex-col bg-white border-r border-slate-200 shadow-sm",children:[(0,s.jsx)("div",{className:"flex-shrink-0 p-4 bg-slate-50 border-b border-slate-200",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[(0,s.jsx)(h.A,{className:"h-5 w-5 mr-2 text-slate-600"}),"Search & Filter"]}),(v||S)&&(0,s.jsx)(R,{variant:"ghost",size:"sm",onClick:F,className:"text-slate-600 hover:text-slate-800",children:"Clear all"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"search-table",className:"text-sm font-medium text-slate-700",children:"Search locations"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h.A,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),(0,s.jsx)(d,{id:"search-table",type:"text",placeholder:"Search names, categories, coordinates...",value:v,onChange:e=>y(e.target.value),className:"pl-10",disabled:i||0===e.length})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"category-filter",className:"text-sm font-medium text-slate-700",children:"Filter by category"}),(0,s.jsxs)(w,{value:S,onValueChange:e=>A(e),disabled:i||0===e.length,children:[(0,s.jsx)(k,{id:"category-filter",children:(0,s.jsx)(C,{placeholder:"All categories"})}),(0,s.jsxs)(L,{children:[(0,s.jsx)(O,{value:"all",children:"All categories"}),T.map(e=>(0,s.jsx)(O,{value:e,children:e},e))]})]})]})]}),q.length>0&&(0,s.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-slate-200",children:[(0,s.jsxs)("div",{className:"text-sm text-slate-600",children:["Showing ",(0,s.jsx)("span",{className:"font-medium text-slate-800",children:q.length})," of ",(0,s.jsx)("span",{className:"font-medium text-slate-800",children:e.length})," locations"]}),(0,s.jsxs)(P,{children:[(0,s.jsx)(_,{asChild:!0,children:(0,s.jsxs)(R,{variant:"outline",size:"sm",onClick:()=>{let e=new Blob([[["Name","Category","Latitude","Longitude","Original Coordinates"],...q.map(e=>({name:e.originalName,category:e.category,latitude:e.latitude,longitude:e.longitude,originalCoords:e.originalCoords})).map(e=>[e.name,e.category,e.latitude.toString(),e.longitude.toString(),e.originalCoords])].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n")],{type:"text/csv"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="filtered-coordinates.csv",a.click(),URL.revokeObjectURL(t)},disabled:0===q.length,children:[(0,s.jsx)(f.A,{className:"h-4 w-4 mr-1"}),"Export"]})}),(0,s.jsx)(D,{children:"Export visible data as CSV"})]})]})]})}),(0,s.jsxs)("div",{className:"flex-grow overflow-hidden flex flex-col",children:[a&&(0,s.jsx)("div",{className:"p-4 bg-red-50 border-l-4 border-red-400 m-4",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(p.A,{className:"h-5 w-5 text-red-400 mr-2"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error loading data"}),(0,s.jsx)("p",{className:"text-sm text-red-700 mt-1",children:a})]})]})}),!a&&i&&0===e.length&&(0,s.jsx)("div",{className:"flex-grow flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center space-y-3",children:[(0,s.jsx)(g.A,{className:"h-8 w-8 animate-spin mx-auto text-blue-600"}),(0,s.jsx)("div",{className:"text-slate-600",children:"Loading geographic data..."}),(0,s.jsx)("div",{className:"text-sm text-slate-500",children:"This may take a moment"})]})}),!a&&0===e.length&&!i&&(0,s.jsx)("div",{className:"flex-grow flex items-center justify-center p-6",children:(0,s.jsxs)("div",{className:"text-center space-y-3",children:[(0,s.jsx)("div",{className:"p-3 bg-yellow-100 rounded-full w-fit mx-auto",children:(0,s.jsx)(p.A,{className:"h-8 w-8 text-yellow-600"})}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-slate-800",children:"No data found"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"No geographic coordinates were found in the data file."}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"Check that the file format and column names are correct."})]})]})}),!a&&e.length>0&&!i&&(0,s.jsx)(s.Fragment,{children:0===q.length?(0,s.jsx)("div",{className:"flex-grow flex items-center justify-center p-6",children:(0,s.jsxs)("div",{className:"text-center space-y-3",children:[(0,s.jsx)("div",{className:"p-3 bg-blue-100 rounded-full w-fit mx-auto",children:(0,s.jsx)(h.A,{className:"h-8 w-8 text-blue-600"})}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-slate-800",children:"No matches found"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Try adjusting your search or filter criteria."})]}),(0,s.jsx)(R,{variant:"outline",size:"sm",onClick:F,children:"Clear filters"})]})}):(0,s.jsx)("div",{className:"flex-grow overflow-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-slate-200",children:[(0,s.jsx)("thead",{className:"bg-slate-50 sticky top-0 z-10",children:(0,s.jsx)("tr",{children:U.map(e=>(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:e.replace(/\n/g," ")},e))})}),(0,s.jsx)("tbody",{ref:b,className:"bg-white divide-y divide-slate-200",children:q.map(e=>(0,s.jsx)("tr",{"data-point-id":e.id,onClick:()=>z(e.id),className:"cursor-pointer transition-colors duration-150 hover:bg-blue-50 ".concat(o===e.id?"bg-blue-100 ring-2 ring-blue-400 ring-inset":""),children:U.map(t=>{let a="";return a="Computed Latitude"===t?e.latitude.toFixed(4):"Computed Longitude"===t?e.longitude.toFixed(4):"Parsed Coordinate Segment"===t?e.originalCoords:e.rowData[t]||"",(0,s.jsx)("td",{className:"px-4 py-3 text-sm text-slate-900 max-w-[200px] truncate",title:String(a),children:String(a)},t)})},e.id))})]})})})]})]}),(0,s.jsxs)("div",{className:"flex-grow h-full relative",children:[e.length>0&&0===q.length&&!i&&(0,s.jsx)("div",{className:"absolute inset-0 bg-slate-100 bg-opacity-75 z-10 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg text-center space-y-3",children:[(0,s.jsx)(j.A,{className:"h-8 w-8 text-blue-600 mx-auto"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-slate-800",children:"Map filtered"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"No locations match your current filters."})]}),(0,s.jsx)(R,{variant:"outline",size:"sm",onClick:F,children:"Show all locations"})]})}),(0,s.jsx)(V,{points:q,selectedPointId:o,onPointSelect:z})]})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[674,22,575,358],()=>t(3761)),_N_E=e.O()}]);