(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5603:(e,s,t)=>{Promise.resolve().then(t.bind(t,6909))},6909:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>X});var a=t(2432),r=t(9929),l=t.n(r),i=t(364),n=t(9759),o=t(2126),d=t(8441);function c(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,d.QP)((0,o.$)(s))}let x=i.forwardRef((e,s)=>{let{className:t,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:c("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...l})});x.displayName="Input";var f=t(9685),m=t(9920),u=t(6155),h=t(7997),p=t(8725),g=t(8057),j=t(4314),b=t(3881),w=t(9086),N=t(9815),v=t(2121),y=t(4432),k=t(3491);let C=y.bL;y.YJ;let S=y.WT,L=i.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(y.l9,{ref:s,className:c("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[r,(0,a.jsx)(y.In,{asChild:!0,children:(0,a.jsx)(N.A,{className:"h-4 w-4 opacity-50"})})]})});L.displayName=y.l9.displayName;let P=i.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(y.PP,{ref:s,className:c("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(w.A,{className:"h-4 w-4"})})});P.displayName=y.PP.displayName;let A=i.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(y.wn,{ref:s,className:c("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(N.A,{className:"h-4 w-4"})})});A.displayName=y.wn.displayName;let E=i.forwardRef((e,s)=>{let{className:t,children:r,position:l="popper",...i}=e;return(0,a.jsx)(y.ZL,{children:(0,a.jsxs)(y.UC,{ref:s,className:c("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...i,children:[(0,a.jsx)(P,{}),(0,a.jsx)(y.LM,{className:c("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(A,{})]})})});E.displayName=y.UC.displayName,i.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(y.JU,{ref:s,className:c("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=y.JU.displayName;let R=i.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(y.q7,{ref:s,className:c("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(y.VF,{children:(0,a.jsx)(k.A,{className:"h-4 w-4"})})}),(0,a.jsx)(y.p4,{children:r})]})});R.displayName=y.q7.displayName,i.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(y.wv,{ref:s,className:c("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=y.wv.displayName;var O=t(4793);let z=(0,t(6992).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),M=i.forwardRef((e,s)=>{let{className:t,variant:r,size:l,asChild:i=!1,...n}=e,o=i?O.DX:"button";return(0,a.jsx)(o,{className:c(z({variant:r,size:l,className:t})),ref:s,...n})});M.displayName="Button";var D=t(7637);let U=D.Kq,W=D.bL,F=D.l9,T=i.forwardRef((e,s)=>{let{className:t,sideOffset:r=4,...l}=e;return(0,a.jsx)(D.UC,{ref:s,sideOffset:r,className:c("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...l})});T.displayName=D.UC.displayName;let I=new Map;function _(e){let s=e.split("-").map(e=>Number.parseFloat(e.trim()));if(s.some(isNaN))return Number.NaN;let t=0;return s.length>=1&&(t+=s[0]),s.length>=2&&(t+=s[1]/60),s.length>=3&&(t+=s[2]/3600),t}async function q(e){return new Promise(s=>{let t=(a,r)=>{let l=r.length,i=Math.min(a+100,e.length);for(let s=a;s<i;s++){let t=e[s],a=t["Co\xf6rdinaten/Coordinates"]||t["Co\xf6rdinaten\nCoordinates"]||t["Co\xf6rdinaten"]||t.Coordinates,i=t["Oorspr. naam op de kaart/Original name on the map"]||t["Oorspr. naam op de kaart\nOriginal name on the map"]||t["Oorspr. naam op de kaart"]||t["Original name on the map"]||"N/A",n=t["Soortnaam/Category"]||t["Soortnaam\nCategory"]||t.Soortnaam||t.Category||"Unknown";if(a&&""!==a.trim()&&"-"!==a&&"??"!==a)for(let e of a.split("+").map(e=>e.trim())){if(""===e||"-"===e||"??"===e)continue;let s=function(e){let s,t;if(!e||"string"!=typeof e||""===e.trim()||"-"===e||"??"===e)return null;if(I.has(e))return I.get(e);let[a,r]=e.split("/");if(!a||!r)return I.set(e,null),null;let l=a.trim().match(/^([\d.-]+)([NS])$/i);if(!l)return I.set(e,null),null;let[,i,n]=l;s=_(i),"S"===n.toUpperCase()&&(s=-s);let o=r.trim().match(/^([\d.-]+)([EW])$/i);if(!o)return I.set(e,null),null;let[,d,c]=o;if(t=_(d),"W"===c.toUpperCase()&&(t=-t),isNaN(s)||isNaN(t)||s<-90||s>90||t<-180||t>180)return I.set(e,null),null;let x={latitude:s,longitude:t};return I.set(e,x),x}(e);s&&r.push({id:"point-".concat(l++),latitude:s.latitude,longitude:s.longitude,originalName:i,category:n||"Unknown",originalCoords:e,rowData:t})}}i<e.length?"requestIdleCallback"in window?requestIdleCallback(()=>t(i,r)):setTimeout(()=>t(i,r),0):s(r)};t(0,[])})}var V=t(4124),G=t(9392),J=t(1194),B=t(7254);let H=i.memo(e=>{let{index:s,style:t,data:r}=e,{points:l,headers:n,selectedPointId:o,hoveredRowId:d,onPointSelect:c,onRowHover:x,getCategoryColor:f,copyToClipboard:m}=r,u=l[s],h=(0,i.useMemo)(()=>({...t,display:"flex",alignItems:"center",cursor:"pointer",transition:"all 0.2s",backgroundColor:o===u.id?"rgba(251, 191, 36, 0.1)":d===u.id?"rgba(120, 113, 108, 0.05)":s%2==0?"rgba(255, 255, 255, 0.6)":"rgba(245, 245, 244, 0.4)",borderBottom:"1px solid rgba(231, 229, 228, 0.6)",borderLeft:o===u.id?"3px solid #d97706":"none"}),[t,o,d,u.id,s]);return(0,a.jsxs)("div",{style:h,onClick:()=>c(u.id),onMouseEnter:()=>x(u.id),onMouseLeave:()=>x(null),children:[n.map(e=>{let s="",t=!1;return"Computed Latitude"===e?(s=u.latitude.toFixed(4),t=!0):"Computed Longitude"===e?(s=u.longitude.toFixed(4),t=!0):"Parsed Coordinate Segment"===e?(s=u.originalCoords,t=!0):s=u.rowData&&Object.prototype.hasOwnProperty.call(u.rowData,e)?u.rowData[e]:"",(0,a.jsx)("div",{style:{width:200,minWidth:200,maxWidth:200},className:"px-4 py-2 text-sm overflow-hidden whitespace-nowrap text-ellipsis border-r border-stone-200/60",children:(0,a.jsx)("div",{className:"flex items-center space-x-2",children:"Soortnaam\nCategory"===e?(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(f(String(s))),children:String(s)}):t&&e.includes("Latitude")?(0,a.jsxs)("div",{className:"flex items-center space-x-2 group",children:[(0,a.jsx)("span",{className:"text-slate-700 font-mono text-xs",children:String(s)}),(0,a.jsx)(M,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),m(String(s))},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-slate-200 rounded transition-all",title:"Copy to clipboard",children:(0,a.jsx)(G.A,{className:"h-3 w-3 text-slate-500"})})]}):t&&e.includes("Longitude")?(0,a.jsxs)("div",{className:"flex items-center space-x-2 group",children:[(0,a.jsx)("span",{className:"text-slate-700 font-mono text-xs",children:String(s)}),(0,a.jsx)(M,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),m(String(s))},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-slate-200 rounded transition-all",title:"Copy to clipboard",children:(0,a.jsx)(G.A,{className:"h-3 w-3 text-slate-500"})})]}):"Co\xf6rdinaten\nCoordinates"===e&&s&&"-"!==s?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(J.A,{className:"h-3 w-3 text-slate-400 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-slate-700 truncate",title:String(s),children:String(s)})]}):(0,a.jsx)("span",{className:"text-slate-700 truncate block",title:String(s),children:String(s)||(0,a.jsx)("span",{className:"text-slate-400 italic",children:"—"})})})},e)}),(0,a.jsxs)("div",{className:"w-12 px-2 py-2 flex items-center justify-center",children:[o===u.id&&(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-amber-600 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-xs text-amber-700 font-medium",children:"Selected"})]}),d===u.id&&o!==u.id&&(0,a.jsx)(B.A,{className:"h-4 w-4 text-slate-400"})]})]})});H.displayName="TableRow";let K=i.memo(e=>{let{data:s,headers:t,selectedPointId:r,hoveredRowId:l,onPointSelect:n,onRowHover:o,getColumnDisplayName:d,getCategoryColor:c,copyToClipboard:x,sortConfig:f,onSort:m}=e,u=(0,i.useMemo)(()=>{if(!r)return s;let e=s.findIndex(e=>e.id===r);return -1===e?s:[s[e],...s.slice(0,e),...s.slice(e+1)]},[s,r]),h=(0,i.useMemo)(()=>({points:u,headers:t,selectedPointId:r,hoveredRowId:l,onPointSelect:n,onRowHover:o,getColumnDisplayName:d,getCategoryColor:c,copyToClipboard:x}),[u,t,r,l,n,o,d,c,x]);return(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)("div",{className:"sticky top-0 z-10 bg-gradient-to-r from-stone-100/80 to-stone-200/60 border-b border-stone-200/60",children:(0,a.jsxs)("div",{className:"flex",children:[t.map(e=>{let s=f&&f.key===e,t=s?"asc"===f.direction?"▲":"▼":"";return(0,a.jsx)("div",{style:{width:200,minWidth:200,maxWidth:200,cursor:m?"pointer":"default"},className:"px-4 py-3 whitespace-nowrap overflow-hidden text-ellipsis border-r border-stone-200/60 select-none group",onClick:m?()=>m(e):void 0,title:m?"Sort by ".concat(d(e)):void 0,children:(0,a.jsxs)("span",{className:"text-xs font-semibold text-stone-700 uppercase tracking-wider flex items-center gap-1",children:[d(e),(0,a.jsx)("span",{className:"transition-opacity duration-150 ".concat(s?"opacity-100":"opacity-0 group-hover:opacity-60"),children:t})]})},e)}),(0,a.jsx)("div",{className:"w-12 px-2 py-3"})]})}),(0,a.jsx)(V.Y1,{height:400,width:200*t.length+48,itemCount:u.length,itemSize:60,itemData:h,overscanCount:5,children:H})]})});K.displayName="VirtualizedTable";class ${async processRawData(e,s){if(!this.worker)throw Error("Web Worker not available");if(this.isProcessing)throw Error("Worker is already processing data");return this.isProcessing=!0,new Promise((t,a)=>{let r=e=>{let{type:l,payload:i}=e.data;switch(l){case"PROGRESS":null==s||s(i.progress);break;case"COMPLETE":this.worker.removeEventListener("message",r),this.isProcessing=!1,t(i.points);break;case"ERROR":this.worker.removeEventListener("message",r),this.isProcessing=!1,a(Error(i.message))}};this.worker.addEventListener("message",r),this.worker.postMessage({type:"PROCESS_DATA",payload:{rawData:e}})})}async filterData(e,s,t,a){if(!this.worker)throw Error("Web Worker not available");return new Promise((r,l)=>{let i=e=>{let{type:s,payload:t}=e.data;switch(s){case"COMPLETE":this.worker.removeEventListener("message",i),r(t.points);break;case"ERROR":this.worker.removeEventListener("message",i),l(Error(t.message))}};this.worker.addEventListener("message",i),this.worker.postMessage({type:"FILTER_DATA",payload:{points:e,categoryFilter:s,searchQuery:t,sortConfig:a}})})}destroy(){this.worker&&(this.worker.terminate(),this.worker=null),this.isProcessing=!1}constructor(){this.worker=null,this.isProcessing=!1,this.worker=new Worker("/data-worker.js")}}let Y=(0,n.default)(()=>Promise.all([t.e(412),t.e(550),t.e(623),t.e(43)]).then(t.bind(t,3043)),{loadableGenerated:{webpack:()=>[3043]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-gray-600",children:"Loading map..."})})}),Q=e=>0===e.length?[]:[...Object.keys(e[0].rowData),"Computed Latitude","Computed Longitude","Parsed Coordinate Segment"];function X(){let[e,s]=(0,i.useState)([]),[t,r]=(0,i.useState)(null),[n,o]=(0,i.useTransition)(),[d,c]=(0,i.useState)(null),y=(0,i.useRef)(null),[k,P]=(0,i.useState)(""),[A,O]=(0,i.useState)(""),[z,D]=(0,i.useState)(null),[I,_]=(0,i.useState)(null),[V,G]=(0,i.useState)(new Set),[J,B]=(0,i.useState)(0),H=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(!H.current)try{H.current=new $}catch(e){console.warn("Web Worker not available, falling back to main thread processing")}return()=>{H.current&&(H.current.destroy(),H.current=null)}},[]);let X=(0,i.useCallback)(async()=>{r(null),B(0);try{let e;let t=await fetch("".concat("/coordinate-transformer","/points.json"));if(!t.ok)throw Error("Failed to load data: ".concat(t.status));B(.3);let a=await t.json();B(.6),e=H.current?await H.current.processRawData(a,e=>B(.6+.4*e)):await q(a),s(e),B(1)}catch(e){console.error("Data loading error:",e),r("Failed to load points data: ".concat(e instanceof Error?e.message:"Unknown error")),s([])}},[]);(0,i.useEffect)(()=>{o(()=>{X()})},[X]);let Z=(0,i.useMemo)(()=>Q(e),[e]),ee=(0,i.useCallback)(e=>{c(e)},[]),es=(0,i.useCallback)(()=>{o(()=>{X()})},[X]),et=(0,i.useCallback)(()=>{P(""),O(""),c(null),D(null)},[]),ea=(0,i.useCallback)(e=>{D(s=>{let t="asc";return s&&s.key===e&&"asc"===s.direction&&(t="desc"),{key:e,direction:t}})},[]),er=(0,i.useCallback)(async e=>{try{await navigator.clipboard.writeText(e)}catch(e){console.error("Failed to copy to clipboard:",e)}},[]),el=(0,i.useCallback)(e=>({"Computed Latitude":"Latitude","Computed Longitude":"Longitude","Parsed Coordinate Segment":"Coordinates","Oorspr. naam op de kaart\nOriginal name on the map":"Original Name","Soortnaam\nCategory":"Category","Tegenwoordige naam\nPresent name":"Present Name","Co\xf6rdinaten\nCoordinates":"Raw Coordinates","Kaartvak\nMap grid square":"Grid Square","Kaart\nMap":"Map","Pagina\nPage":"Page","Index page":"Index"})[e]||e.replace(/\n/g," "),[]),ei=(0,i.useCallback)(e=>({"plaats/settlement":"bg-blue-50 text-blue-800 border border-blue-200","eiland/island":"bg-amber-50 text-amber-800 border border-amber-200","rivier/river":"bg-emerald-50 text-emerald-800 border border-emerald-200","kaap/cape":"bg-violet-50 text-violet-800 border border-violet-200","landstreek/region":"bg-stone-50 text-stone-800 border border-stone-200","baai/bay":"bg-cyan-50 text-cyan-800 border border-cyan-200","berg/mountain":"bg-rose-50 text-rose-800 border border-rose-200","fort/fortress":"bg-indigo-50 text-indigo-800 border border-indigo-200","eilanden/islands":"bg-orange-50 text-orange-800 border border-orange-200","ondiepte/shoals":"bg-teal-50 text-teal-800 border border-teal-200","zeestraat/strait":"bg-sky-50 text-sky-800 border border-sky-200","provincie/province":"bg-purple-50 text-purple-800 border border-purple-200",Unknown:"bg-gray-50 text-gray-700 border border-gray-200"})[e]||"bg-gray-50 text-gray-700 border border-gray-200",[]),en=(0,i.useMemo)(()=>0===e.length?[]:Array.from(new Set(e.map(e=>e.category))).sort((e,s)=>"Unknown"===e?1:"Unknown"===s?-1:e.localeCompare(s)),[e]),eo=(0,i.useMemo)(()=>(function(e,s,t,a){let r=e;if(s&&"all"!==s&&(r=r.filter(e=>e.category===s)),""!==t.trim()){let e=t.toLowerCase();r=r.filter(s=>{var t,a,r;return!!((null===(t=s.originalName)||void 0===t?void 0:t.toLowerCase().includes(e))||(null===(a=s.category)||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(r=s.originalCoords)||void 0===r?void 0:r.toLowerCase().includes(e)))||Object.values(s.rowData).some(s=>String(s).toLowerCase().includes(e))})}return a&&(r=[...r].sort((e,s)=>{let t,r;if("Computed Latitude"===a.key?(t=e.latitude,r=s.latitude):"Computed Longitude"===a.key?(t=e.longitude,r=s.longitude):"Parsed Coordinate Segment"===a.key?(t=e.originalCoords,r=s.originalCoords):(t=e.rowData[a.key]||"",r=s.rowData[a.key]||""),"number"==typeof t&&"number"==typeof r)return"asc"===a.direction?t-r:r-t;let l=String(t).toLowerCase(),i=String(r).toLowerCase();return"asc"===a.direction?l.localeCompare(i):i.localeCompare(l)})),r})(e,A,k,z),[e,A,k,z]),ed=(0,i.useCallback)(()=>{let e=new Blob([[["Name","Category","Latitude","Longitude","Original Coordinates"],...eo.map(e=>({name:e.originalName,category:e.category,latitude:e.latitude,longitude:e.longitude,originalCoords:e.originalCoords})).map(e=>[e.name,e.category,e.latitude.toString(),e.longitude.toString(),e.originalCoords])].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n")],{type:"text/csv"}),s=URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download="filtered-coordinates.csv",t.click(),URL.revokeObjectURL(s)},[eo]);return(0,i.useEffect)(()=>{if(d&&y.current){let e=y.current.querySelector('[data-point-id="'.concat(d,'"]'));null==e||e.scrollIntoView({behavior:"smooth",block:"nearest"})}},[d]),(0,a.jsx)(U,{children:(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex flex-col h-screen overflow-hidden bg-gradient-to-br from-amber-50 via-stone-50 to-amber-100",children:[(0,a.jsx)("header",{className:"jsx-800e97d8524fcfe5 bg-white/95 backdrop-blur-sm border-b border-amber-200/50 shadow-sm cartographic-shadow px-6 py-4 flex-shrink-0",children:(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 p-3 bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl shadow-sm",children:(0,a.jsx)(f.A,{className:"h-7 w-7 text-blue-700"})}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5",children:[(0,a.jsx)("h1",{className:"jsx-800e97d8524fcfe5 text-2xl font-serif font-semibold text-stone-800 tracking-wide",children:"Historical Atlas Explorer"}),(0,a.jsx)("p",{className:"jsx-800e97d8524fcfe5 text-sm text-stone-600 font-medium tracking-wide",children:"Geographic Data Visualization & Cartographic Analysis"})]})]}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center space-x-2",children:[e.length>0&&(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 hidden sm:flex items-center space-x-4 text-sm text-stone-600 bg-stone-100/60 px-3 py-2 rounded-lg border border-stone-200/50 cartographic-shadow",children:[(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center space-x-1",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 text-amber-700"}),(0,a.jsxs)("span",{className:"jsx-800e97d8524fcfe5 font-medium",children:[e.length," total points"]})]}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center space-x-1",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 text-amber-700"}),(0,a.jsxs)("span",{className:"jsx-800e97d8524fcfe5 font-medium",children:[eo.length," visible"]})]})]}),(0,a.jsxs)(W,{children:[(0,a.jsx)(F,{asChild:!0,children:(0,a.jsx)(M,{variant:"outline",size:"sm",onClick:es,disabled:n,children:(0,a.jsx)(h.A,{className:"h-4 w-4 ".concat(n?"animate-spin":"")})})}),(0,a.jsx)(T,{children:"Refresh data"})]})]})]})}),(0,a.jsxs)("main",{className:"jsx-800e97d8524fcfe5 flex-grow flex flex-row overflow-hidden",children:[(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 w-2/5 flex flex-col bg-stone-50/50 border-r border-stone-200/60 cartographic-shadow",children:[(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 flex-shrink-0 p-4 bg-stone-100/40 border-b border-stone-200/60",children:(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 space-y-4",children:[(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center justify-between",children:[(0,a.jsxs)("h2",{className:"jsx-800e97d8524fcfe5 text-lg font-serif font-semibold text-stone-800 flex items-center tracking-wide",children:[(0,a.jsx)(p.A,{className:"h-5 w-5 mr-2 text-amber-700"}),"Search & Filter"]}),(k||A)&&(0,a.jsx)(M,{variant:"ghost",size:"sm",onClick:et,className:"text-stone-600 hover:text-stone-800",children:"Clear all"})]}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 grid grid-cols-1 gap-4",children:[(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 space-y-2",children:[(0,a.jsx)("label",{htmlFor:"search-table",className:"jsx-800e97d8524fcfe5 text-sm font-serif font-semibold text-stone-700 tracking-wide",children:"Search locations"}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 relative",children:[(0,a.jsx)(p.A,{className:"absolute left-3 top-2.5 h-4 w-4 text-stone-400"}),(0,a.jsx)(x,{id:"search-table",type:"text",placeholder:"Search names, categories, coordinates...",value:k,onChange:e=>P(e.target.value),className:"pl-10 bg-white/80 border-stone-300 focus:border-amber-400 focus:ring-amber-200",disabled:n||0===e.length})]})]}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 space-y-2",children:[(0,a.jsx)("label",{htmlFor:"category-filter",className:"jsx-800e97d8524fcfe5 text-sm font-serif font-semibold text-stone-700 tracking-wide",children:"Filter by category"}),(0,a.jsxs)(C,{value:A,onValueChange:e=>O(e),disabled:n||0===e.length,children:[(0,a.jsx)(L,{id:"category-filter",children:(0,a.jsx)(S,{placeholder:"All categories"})}),(0,a.jsxs)(E,{children:[(0,a.jsx)(R,{value:"all",children:"All categories"}),en.map(e=>(0,a.jsx)(R,{value:e,children:e},e))]})]})]})]}),eo.length>0&&(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center justify-between pt-2 border-t border-slate-200",children:[(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 text-sm text-slate-600",children:["Showing"," ",(0,a.jsx)("span",{className:"jsx-800e97d8524fcfe5 font-medium text-slate-800",children:eo.length})," ","of"," ",(0,a.jsx)("span",{className:"jsx-800e97d8524fcfe5 font-medium text-slate-800",children:e.length})," ","locations"]}),(0,a.jsxs)(W,{children:[(0,a.jsx)(F,{asChild:!0,children:(0,a.jsxs)(M,{variant:"outline",size:"sm",onClick:ed,disabled:0===eo.length,children:[(0,a.jsx)(g.A,{className:"h-4 w-4 mr-1"}),"Export"]})}),(0,a.jsx)(T,{children:"Export visible data as CSV"})]})]})]})}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex-grow overflow-hidden flex flex-col",children:[t&&(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 p-4 bg-red-50 border-l-4 border-red-400 m-4",children:(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center",children:[(0,a.jsx)(j.A,{className:"h-5 w-5 text-red-400 mr-2"}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5",children:[(0,a.jsx)("h3",{className:"jsx-800e97d8524fcfe5 text-sm font-medium text-red-800",children:"Error loading data"}),(0,a.jsx)("p",{className:"jsx-800e97d8524fcfe5 text-sm text-red-700 mt-1",children:t})]})]})}),!t&&n&&0===e.length&&(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 flex-grow flex items-center justify-center",children:(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 text-center space-y-4 max-w-md mx-auto p-6",children:[(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 p-4 bg-blue-50 rounded-full w-fit mx-auto",children:(0,a.jsx)(b.A,{className:"h-8 w-8 animate-spin text-blue-600"})}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 space-y-2",children:[(0,a.jsx)("h3",{className:"jsx-800e97d8524fcfe5 text-lg font-medium text-slate-800",children:"Loading Historical Atlas Data"}),(0,a.jsx)("p",{className:"jsx-800e97d8524fcfe5 text-sm text-slate-600",children:"Processing geographic coordinates from the Grote Atlas..."})]}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 w-full space-y-2",children:[(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex justify-between text-sm text-slate-500",children:[(0,a.jsx)("span",{className:"jsx-800e97d8524fcfe5",children:"Progress"}),(0,a.jsxs)("span",{className:"jsx-800e97d8524fcfe5",children:[Math.round(100*J),"%"]})]}),(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 w-full bg-slate-200 rounded-full h-2",children:(0,a.jsx)("div",{style:{width:"".concat(100*J,"%")},className:"jsx-800e97d8524fcfe5 bg-blue-600 h-2 rounded-full transition-all duration-300 ease-out"})}),(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 text-xs text-slate-500",children:J<.3?"Fetching data...":J<.6?"Parsing JSON...":"Processing coordinates..."})]}),(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 text-xs text-slate-400",children:H.current?"Using Web Worker for optimal performance":"Processing on main thread"}),J>0&&J<1&&(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 w-48 mx-auto",children:[(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{style:{width:"".concat(100*J,"%")},className:"jsx-800e97d8524fcfe5 bg-blue-600 h-2 rounded-full transition-all duration-300"})}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 text-xs text-slate-500 mt-1",children:[Math.round(100*J),"% complete"]})]})]})}),!t&&0===e.length&&!n&&(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 flex-grow flex items-center justify-center p-6",children:(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 text-center space-y-3",children:[(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 p-3 bg-yellow-100 rounded-full w-fit mx-auto",children:(0,a.jsx)(j.A,{className:"h-8 w-8 text-yellow-600"})}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 space-y-1",children:[(0,a.jsx)("h3",{className:"jsx-800e97d8524fcfe5 text-lg font-medium text-slate-800",children:"No data found"}),(0,a.jsx)("p",{className:"jsx-800e97d8524fcfe5 text-sm text-slate-600",children:"No geographic coordinates were found in the data file."}),(0,a.jsx)("p",{className:"jsx-800e97d8524fcfe5 text-xs text-slate-500",children:"Check that the file format and column names are correct."})]})]})}),!t&&e.length>0&&!n&&(0,a.jsx)(a.Fragment,{children:0===eo.length?(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 flex-grow flex items-center justify-center p-6",children:(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 text-center space-y-3",children:[(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 p-3 bg-blue-100 rounded-full w-fit mx-auto",children:(0,a.jsx)(p.A,{className:"h-8 w-8 text-blue-600"})}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 space-y-1",children:[(0,a.jsx)("h3",{className:"jsx-800e97d8524fcfe5 text-lg font-medium text-slate-800",children:"No matches found"}),(0,a.jsx)("p",{className:"jsx-800e97d8524fcfe5 text-sm text-slate-600",children:"Try adjusting your search or filter criteria."})]}),(0,a.jsx)(M,{variant:"outline",size:"sm",onClick:et,children:"Clear filters"})]})}):(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex-grow overflow-hidden flex flex-col",children:[(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 flex-shrink-0 px-4 py-3 bg-stone-50/80 border-b border-stone-200/60",children:(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center space-x-2",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 text-amber-700"}),(0,a.jsxs)("span",{className:"jsx-800e97d8524fcfe5 text-sm font-medium text-stone-700",children:[eo.length," location",1!==eo.length?"s":""]}),z&&(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center space-x-1 text-xs text-stone-500",children:[(0,a.jsx)("span",{className:"jsx-800e97d8524fcfe5",children:"•"}),(0,a.jsxs)("span",{className:"jsx-800e97d8524fcfe5",children:["Sorted by"," ",el(z.key)]}),"asc"===z.direction?(0,a.jsx)(w.A,{className:"h-3 w-3"}):(0,a.jsx)(N.A,{className:"h-3 w-3"})]})]}),(0,a.jsx)(M,{variant:"ghost",size:"sm",onClick:()=>D(null),className:"text-xs text-stone-500 hover:text-stone-700",disabled:!z,children:"Clear sort"})]})}),(0,a.jsx)("div",{style:{WebkitOverflowScrolling:"touch"},className:"jsx-800e97d8524fcfe5 overflow-x-auto w-full",children:(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 min-w-[900px]",children:(0,a.jsx)(K,{data:eo,headers:Z,selectedPointId:d,hoveredRowId:I,onPointSelect:ee,onRowHover:_,getColumnDisplayName:el,getCategoryColor:ei,copyToClipboard:er,sortConfig:z,onSort:ea})})}),(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 flex-shrink-0 px-4 py-3 bg-stone-100/60 border-t border-stone-200/60",children:(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center justify-between text-sm text-stone-600",children:[(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex items-center space-x-4",children:[(0,a.jsx)("span",{className:"jsx-800e97d8524fcfe5",children:"Click any row to view on map"}),(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 h-3 w-px bg-stone-300"}),(0,a.jsxs)("span",{className:"jsx-800e97d8524fcfe5",children:[eo.length," results"]})]}),(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 flex items-center space-x-2",children:(0,a.jsx)("span",{className:"jsx-800e97d8524fcfe5 text-xs",children:"Tip: Click column headers to sort"})})]})})]})})]})]}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 flex-grow h-full relative",children:[e.length>0&&0===eo.length&&!n&&(0,a.jsx)("div",{className:"jsx-800e97d8524fcfe5 absolute inset-0 bg-slate-100 bg-opacity-75 z-10 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5 bg-white p-6 rounded-lg shadow-lg text-center space-y-3",children:[(0,a.jsx)(v.A,{className:"h-8 w-8 text-blue-600 mx-auto"}),(0,a.jsxs)("div",{className:"jsx-800e97d8524fcfe5",children:[(0,a.jsx)("h3",{className:"jsx-800e97d8524fcfe5 text-lg font-medium text-slate-800",children:"Map filtered"}),(0,a.jsx)("p",{className:"jsx-800e97d8524fcfe5 text-sm text-slate-600",children:"No locations match your current filters."})]}),(0,a.jsx)(M,{variant:"outline",size:"sm",onClick:et,children:"Show all locations"})]})}),(0,a.jsx)(Y,{points:eo,selectedPointId:d,onPointSelect:ee})]})]}),(0,a.jsx)(l(),{id:"800e97d8524fcfe5",children:".wider-table-row td{white-space:normal!important;word-break:break-word;min-width:180px;max-width:400px;padding-top:.75rem;padding-bottom:.75rem;font-size:1.05rem}"})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[610,22,575,358],()=>s(5603)),_N_E=e.O()}]);